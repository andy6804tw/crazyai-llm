# [Day 3] 生成式 AI 代理人

在第三天的課程中，你將深入探索生成式 AI 代理人的世界。你不僅會學習如何構建複雜的 AI 代理人，了解其核心組件與反覆開發流程，還會接觸到進階的代理架構與方法，例如多代理系統、代理評估等技術。透過本單元的學習與實作，你將掌握如何將大型語言模型連接到現有系統，並與現實世界互動。

## 本單元內容

- **🎙️ Podcast 聆聽**  
    收聽本單元的Podcast 摘要，先行瞭解生成式 AI 代理人的基本概念與運作原理。

- **📄 白皮書閱讀**  
    閱讀《Generative AI Agents》白皮書，以深入了解代理人相關的理論基礎與設計方法。

- **💻 Kaggle 實作練習**  
    透過 Kaggle 上的 codelab 練習，你將完成以下項目：
    1. **與資料庫互動 (使用函數調用)：**  
        利用函數調用技術，讓 AI 代理人能與資料庫進行互動，從中檢索所需資訊。
    2. **建立代理訂單系統 (LangGraph)：**  
        使用 LangGraph 平台，構建一個模擬咖啡廳訂單的 AI 代理系統，實現代理人與現實業務的結合。

- **[選修] 進階單元 3b - “Agents Companion”**  
    此單元為選修內容，包括：
    - 收聽進階單元的 Podcast 摘要。
    - 閱讀進階《Agents Companion》白皮書，了解更多進階代理人設計與應用。

!!! info "本日學習重點"

    今天的課程重點在於：

    - **代理人基礎：**  
      學習生成式 AI 代理人的核心組件與反覆開發流程，瞭解如何從概念到實作建構出功能完整的代理人。

    - **進階代理架構：**  
      探索多代理系統、代理評估等進階技術，了解如何設計更智能且互動性更高的代理人架構。

    - **實作與整合：**  
      透過 Kaggle 上的實作練習，學習如何將大型語言模型與現有系統連接，實現與現實世界的互動應用。  
      例如，透過函數調用技術為聊天機器人提供 SQL 工具（包含 Gemini 2.0 Live API 範例），以及構建一個在咖啡廳中接單的 LangGraph 代理系統。

    透過今天的學習，你將能夠設計並構建出既智能又實用的 AI 代理系統，並深入了解代理人如何與外部系統連結，共同創造更具應用價值的解決方案。


## Day 3 直播精華整理 
第三天的直播聚焦在生成式 AI 代理。今天我們深入探討了如何利用前兩天學到的基礎模型、提示工程、embeddings 與向量資料庫等技術，來打造能夠觀察、推理並自主或半自主執行任務的 AI 代理。講者們除了介紹生成式 AI 代理的基本概念與核心組成（如模型、工具與調度層）之外，還分享了如何利用工具調用、外部資料連結，以及多代理系統的應用與挑戰。

---

## Q&A 專家問答

### Q1：生成式 AI 代理的核心組成有哪些？  
**問題內容：**  
請問生成式 AI 代理的定義與其主要組成部分為何？  

**專家觀點：**  

- 主持人 Paige 提到，生成式 AI 代理不只是單純產生文本，它能觀察環境、推理並行動，透過工具調用來達成任務。  
- **Anant** 補充說，代理的核心包括：  
    1. **模型：** 例如使用 Gemini 模型進行推理和決策；  
    2. **工具與函數調用：** 使代理能夠呼叫 API 或執行程式碼，與外部世界互動；  
    3. **調度層：** 管理代理內部的思考與行動循環，常見的框架有 ReAct 或 Chain of Thought。

---

### Q2：如何利用 Notebook LM 與 Project Mariner 建構智能代理？  
**問題內容：**  
請說明 Notebook LM 與 Project Mariner 在生成式 AI 代理中的應用與優點。  

**專家觀點：**  

- **Stephen 與 Jacqueline** 分別介紹，Notebook LM 可上傳文件後讓模型回答問題，並提供來源引用，確保回答根據實際文件；  
- **Project Mariner** 則是一個 Chrome 擴充工具，能模擬使用者操作（如點擊、捲動），自動完成任務，展示了生成式代理在實際應用中如何提高工作效率。

---

### Q3：如何在設計 AI 代理時平衡代理自主性與用戶控制？  
**問題內容：**  
構建 AI 代理時，如何確保代理在自主決策與用戶介入間取得平衡？  

**專家觀點：**  

- 多位專家認為，代理必須依據上傳的文件與數據進行回答，以確保回應不偏離事實；  
- **Stephen** 強調，透過設置明確的安全邊界及限制代理行動範圍，可以在保持一定創造力的同時，防止模型產生與用戶需求不符的答案；  
- 此外，結合 few-shot 示範與工具調用可以有效降低模型幻覺，讓代理在自主執行任務時依然保持準確與可靠。

---

### Q4：多代理系統的應用與挑戰有哪些？  
**問題內容：**  
請問在多代理系統中，各代理如何協同合作以完成複雜任務？企業應用時可能面臨哪些挑戰？  

**專家觀點：**  

- **Anant** 表示，多代理系統讓不同專注於特定任務的代理彼此合作，例如一個代理負責資料檢索，另一個則負責決策執行，藉由清晰的合作協議達成任務。  
- 專家們同時提到，企業在導入多代理系統時，必須解決各代理間協調一致性、定義各自「好」的標準，以及整合多重工具與評估指標等挑戰。

---

### Q5：關於社群提問：如何利用回測（back testing）來微調代理的行為？  
**問題內容：**  
請問如何透過回測資料來調整代理未來的行為？  

**專家觀點：**  

- 講者提到，透過回測可以利用歷史資料模擬代理在實際運作中的表現，並據此調整代理的決策邏輯。  
- 此外，回測結果能協助評估代理在不同情境下的表現，進而優化整體系統的穩定性與準確性。

---

### Q6：關於社群提問：Gemini 是否支援 MCP 標準？  
**問題內容：**  
請問 Gemini 是否支援 MCP（一種開放標準），以及如何與 MCP 整合來驅動代理流程？  

**專家觀點：**  

- **Alan** 表示，Gemini 已支援 MCP 標準，並在範例中展示如何利用 MCP 作為一個薄型的 API 包裝層，簡化不同服務的整合。  
- 他提到 MCP 能夠讓不同公司的 API 自動協同運作，但對於極度敏感的生產環境，使用前仍需謹慎評估其安全性與完整性。

---

### Q7：關於社群提問：AI 系統如何評估即時多來源資料的可靠性，並自我糾正？  
**問題內容：**  
請問 AI 系統如何在處理即時資料時，解決來源衝突並糾正錯誤決策？  

**專家觀點：**  

- **Julia 與 Jacqueline** 表示，AI 系統通常會設置專門的評估代理，負責收集、分析多來源資料，並合併不同意見來決定最終回應。  
- 此外，透過生成多個候選回應並使用評估模組來選擇最佳答案，能夠有效降低錯誤決策發生的機率，並持續優化系統表現。

---

## Pop Quiz 課後練習

來驗收一下今天「生成式 AI 代理」的學習成果吧！

### Pop Quiz Q1
哪一項最能正確描述生成式 AI 代理？

(A) 只能生成文字的語言模型  
(B) 能夠觀察、推理並利用工具執行任務的應用程式  
(C) 一種用於資料儲存的數據庫  
(D) 用於訓練 AI 模型的硬體設備  

??? 答案

    **正確答案：** B. 能夠觀察、推理並利用工具執行任務的應用程式

    **解釋：** 生成式 AI 代理不僅僅是單純的語言模型，而是結合模型、工具呼叫及調度層等核心組件，協同完成特定任務。

---

### Pop Quiz Q2
在生成式 AI 代理的核心組成中，哪個部分主要負責管理代理內部的推理與行動流程？

(A) 模型  
(B) 調度層  
(C) 工具呼叫  
(D) 數據存儲  

??? 答案

    **正確答案：** B. 調度層

    **解釋：** 調度層負責協調代理的內部思考與行動循環，確保代理能夠根據預定邏輯進行決策與執行，而非單純依賴模型生成文字或數據存取。

---

### Pop Quiz Q3
關於生成式 AI 代理中使用的「函數調用」，下列何者描述正確？

(A) 允許代理直接調用外部 API 以取得最新資訊  
(B) 僅用於生成文字，不會調用任何外部資源  
(C) 僅能調用一次，無法進行多次操作  
(D) 用來儲存代理的設定參數  

??? 答案

    **正確答案：** A. 允許代理直接調用外部 API 以取得最新資訊

    **解釋：** 函數調用使代理能夠動態地調用外部工具或 API，從而獲取即時且真實的數據，並進一步支持任務執行。

---

### Pop Quiz Q4
在生成式 AI 代理中，數據存儲的主要作用是什麼？

(A) 儲存代理的設定與參數  
(B) 為代理提供即時且動態的資料存取能力  
(C) 控制代理的推理流程  
(D) 驗證代理生成內容的準確性  

??? 答案

    **正確答案：** B. 為代理提供即時且動態的資料存取能力

    **解釋：** 數據存儲（Data Stores）主要用於存取與管理外部資料，讓代理能夠基於最新資訊產生更具針對性的回應。

---

### Pop Quiz Q5
關於多代理系統（Multi-agent systems），下列哪項敘述正確？

(A) 多代理系統指的是單一模型處理所有任務  
(B) 多代理系統中，各專家代理協同合作，共同完成複雜任務  
(C) 多代理系統只適用於處理簡單任務  
(D) 多代理系統完全不需要人類介入  

??? 答案

    **正確答案：** B. 多代理系統中，各專家代理協同合作，共同完成複雜任務

    **解釋：** 多代理系統利用不同專長的代理協同合作，以解決單一代理難以應付的複雜任務，進而提升整體系統效能。

---

### Pop Quiz Q6
在生成式 AI 代理中，為什麼需要使用工具呼叫（如 API 調用）？

(A) 以提升生成文字的速度  
(B) 讓代理能夠獲取即時且真實世界的資料並執行相關操作  
(C) 僅用於改善模型的語言生成效果  
(D) 工具呼叫僅能用來加速推理速度  

??? 答案

    **正確答案：** B. 讓代理能夠獲取即時且真實世界的資料並執行相關操作

    **解釋：** 工具呼叫使代理能夠超越模型內部知識的限制，透過調用外部資源取得最新數據，從而生成更具時效性與精確性的回應。
